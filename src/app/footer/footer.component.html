<footer class="tableContainer">
  <div class="flex justify-between w-full items-center">
    <p-inputGroup class="w-full md:w-96">
      <input
        pInputText
        type="text"
        [(ngModel)]="searchTerm"
        (input)="handleInputChange($event)"
        [placeholder]="'FOOTER.SEARCH_PLACEHOLDER' | translate"
        class="w-full h-14 leading-10 text-2xl pl-6"
      />
    </p-inputGroup>

    <p-button
      [label]="'FOOTER.ADD_BUTTON' | translate"
      (click)="showInputGroup = true"
      styleClass="px-10 py-2
    font-mono text-2xl"
    />
  </div>

  <div *ngIf="showInputGroup" class="input-overlay">
    <div class="input-container min-h-96">
      <i
        class="pi pi-times"
        style="font-size: 1.5rem"
        (click)="cancelEdit()"
      ></i>

      <p-inputGroup>
        <input
          pInputText
          [(ngModel)]="newItem.fruits"
          [placeholder]="'FOOTER.ENTER_FRUITS' | translate"
          class="p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </p-inputGroup>

      <p-inputGroup>
        <input
          pInputText
          [(ngModel)]="newItem.vegetable"
          [placeholder]="'FOOTER.ENTER_VEGETABLE' | translate"
          class="p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </p-inputGroup>

      <p-inputGroup>
        <input
          pInputText
          [(ngModel)]="newItem.drinks"
          [placeholder]="'FOOTER.ENTER_DRINKS' | translate"
          class="p-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </p-inputGroup>

      <p-button
        [label]="
          isEditing
            ? ('FOOTER.UPDATE_BUTTON' | translate)
            : ('FOOTER.ADD_BUTTON' | translate)
        "
        (click)="AddItem()"
        styleClass="w-[80%]"
      />
    </div>
  </div>
  <p-toast />
  <p-table [value]="filteredProducts" styleClass="width: 100%" class="table">
    <ng-template pTemplate="header">
      <tr>
        <th>{{ "FOOTER.TABLE.ID" | translate }}</th>
        <th>{{ "FOOTER.TABLE.FRUITS" | translate }}</th>
        <th>{{ "FOOTER.TABLE.VEGETABLE" | translate }}</th>
        <th>{{ "FOOTER.TABLE.DRINKS" | translate }}</th>
        <th>{{ "FOOTER.TABLE.EDIT" | translate }}</th>
        <th>{{ "FOOTER.TABLE.DELETE" | translate }}</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr class="hover:bg-slate-200 hover:cursor-pointer">
        <td>{{ product.id }}</td>
        <td>{{ product.fruits }}</td>
        <td>{{ product.vegetable }}</td>
        <td>{{ product.drinks }}</td>
        <td>
          <p-button
            severity="warning"
            icon="pi pi-pencil"
            (click)="handleEdit(product, product.id)"
            styleClass="p-button-text p-button-rounded"
          />
        </td>
        <td>
          <p-button
            severity="danger"
            icon="pi pi-trash"
            (click)="handleDelete(product.id)"
            styleClass="p-button-text p-button-rounded "
          />
        </td>
      </tr>
    </ng-template>
  </p-table>
</footer>
